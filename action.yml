name: 'Hello World'

description: 'Greet someone'

inputs:
  ecr-registry:
    description: 'The Amazon ECR registry URI, e.g. 123456789012.dkr.ecr.us-west-2.amazonaws.com'
    required: true
    type: string
  ecr-repository:
    description: 'The name of the Amazon ECR repository to push the image to'
    required: true
    type: string
  image-tag:
    description: 'The tag to apply to the Docker image'
    required: true
    type: string
  dockerfile-path:
    description: 'The path to the Dockerfile to build, relative to the root of the repository'
    required: true
    type: string
  target:
    description: 'The target stage to build in the Dockerfile'
    required: false
    type: string
    default: ''
  extra-build-arg:
    description: 'Additional build arguments to pass to `docker build`'
    required: false
    type: string
    default: ''

outputs:
  random-number:
    description: "Random number"
    value: ${{ steps.random-number-generator.outputs.random-number }}

runs:
  using: "composite"
  steps:
    - run: echo Hello ${{ inputs.who-to-greet }}.
      shell: bash
    - id: random-number-generator
      run: echo "random-number=$(echo $RANDOM)" >> $GITHUB_OUTPUT
      shell: bash
    - run: echo "${{ github.action_path }}" >> $GITHUB_PATH
      shell: bash
    - run: goodbye.sh
      shell: bash
